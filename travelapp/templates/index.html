{% extends "base.html" %}

{% block content %}
<div class="grid-container">
    <!-- ì¢Œì¸¡ ì…ë ¥ í¼ -->
<div class="left-panel">
    <form method="POST">
        <h3>ğŸ“‹ ì—¬í–‰ ì¡°ê±´ ì…ë ¥</h3>

        <!-- ì—¬í–‰ ë‚ ì§œ -->
        <label>ì—¬í–‰ ë‚ ì§œ</label>
        <div class="row">
            <input type="date" name="start_date" placeholder="ì‹œì‘ì¼">
            <input type="date" name="end_date" placeholder="ì¢…ë£Œì¼">
        </div>

        <!-- ëˆ„êµ¬ì™€ / ì´ ì¸ì› -->
        <div class="row">
            <div class="half">
                <label>ëˆ„êµ¬ì™€</label>
                <select name="companions">
                    <option value="í˜¼ì">í˜¼ì</option>
                    <option value="ì¹œêµ¬">ì¹œêµ¬</option>
                    <option value="ì—°ì¸">ì—°ì¸</option>
                    <option value="ê°€ì¡±">ê°€ì¡±</option>
                    <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                </select>
            </div>
            <div class="half">
                <label>ì´ ì¸ì›ìˆ˜</label>
                <select name="people_count">
                    {% for i in range(1, 11) %}
                        <option value="{{ i }}">{{ i }}ëª…</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <!-- ì¥ì†Œ / í…Œë§ˆ -->
        <label>ì—¬í–‰ ì¥ì†Œ</label>
        <input type="text" name="location" placeholder="ì˜ˆ: ê²½ì£¼, ë¶€ì‚°">

        <label>ì—¬í–‰ í…Œë§ˆ</label>
        <select name="theme">
            <option value="ë§›ì§‘">ë§›ì§‘</option>
            <option value="ì¹´í˜">ì¹´í˜</option>
            <option value="ìì—°ê²½ê´€">ìì—°ê²½ê´€</option>
            <option value="ì—­ì‚¬íƒë°©">ì—­ì‚¬íƒë°©</option>
            <option value="ì¶•ì œ/ì´ë²¤íŠ¸">ì¶•ì œ/ì´ë²¤íŠ¸</option>
            <option value="ì‡¼í•‘">ì‡¼í•‘</option>
        </select>

        <!-- í”„ë¡¬í”„íŠ¸ -->
        <label>ì¶”ê°€ ì¡°ê±´ (GPTì—ê²Œ ë§í•´ë³´ì„¸ìš”)</label>
        <textarea name="user_prompt" rows="4" placeholder="ì˜ˆ: ì²«ë‚ ì€ ë™ê¶ê³¼ì›”ì§€ë¥¼ ê¼­ ë„£ì–´ì¤˜ìš”. 3ì¼ì°¨ì— ì¹œêµ¬ê°€ í•©ë¥˜í•©ë‹ˆë‹¤."></textarea>

        <button type="submit">ì¼ì • ìƒì„±</button>
    </form>
</div>

    <!-- ì¤‘ì•™ ì¼ì • ê²°ê³¼ -->
    <div class="center-panel">
        <h3>ğŸ“… ì—¬í–‰ ì¼ì •</h3>
        <div class="itinerary-box">
            {{ result | safe }}
        </div>
    </div>

    <!-- ìš°ì¸¡ ì§€ë„ -->
    <div class="right-panel">
        <h3>ğŸ—ºï¸ ì§€ë„</h3>
        <div id="map" style="width: 100%; height: 400px;"></div>
    </div>
</div>

<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey={{ kakao_key }}"></script>
<script>
window.onload = function () {
    var container = document.getElementById('map');
    var options = {
        center: new kakao.maps.LatLng(35.8562, 129.2247), // ì˜ˆ: ê²½ì£¼
        level: 6
    };
    var map = new kakao.maps.Map(container, options);

    // ë§ˆì»¤ ì˜ˆì‹œ
    var markerPosition  = new kakao.maps.LatLng(35.8347, 129.2849);
    var marker = new kakao.maps.Marker({ position: markerPosition });
    marker.setMap(map);
};
</script>

{% endblock %}
